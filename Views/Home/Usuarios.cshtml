@model IQueryable<Usuario>

@{
    ViewBag.Subtitulo = "Listagem";
    }
   
   @{
    if(TempData.ContainsKey("Excluiu"))
    {
        var excluiu = (bool)TempData["Excluiu"];
        if(excluiu){
            <div class="alert alert-success mt-3 alert-dismissible fade show" role="alert">
                Usuário Excluído com <strong>Sucesso!</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" ></button>
            </div>
        }else{
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                Não foi possível ecluir o usuário!
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>   
        }
    }
   }
       <h1 class="text-primary">Usuários</h1>
       <h2 class="text-primary">Usuários Cadastrados: @ViewBag.QntUsuarios</h2>
       <hr>
       <p>
        CRUD PARA ASP.NETCORE
       </p>
       <div class="col-6">
           <a asp-action="Cadastrar" asp-controller="Home" class="btn btn-success">Cadastrar</a>
           <a asp-action="Index" asp-controller="Home" class="btn btn-primary">Voltar</a>
       </div>
       <table class="table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Email</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tboby>
        @foreach(var usuario in Model)
        {
            <tr>
                <td>@usuario.Nome</td>
                <td>@usuario.Email</td>
                <td><a asp-action="Cadastrar" asp-route-id="@usuario.Id" class="btn btn-secondary">Alterar</a></td>
                <td><a asp-action="Excluir" asp-route-id="@usuario.Id" class="btn btn-danger">Excluir</a></td>
            </tr>
        }
        </tboby>
       </table>
  
  @section Scripts {
    <script src="/lib/bootstrap5/dist/js/bootstrap.js"></script>

  }
@section Footer {
    <span class="text-info">Listagem de Usuários</span>
}
